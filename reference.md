# **model player の機能仕様**

##　**全ての動作において**
room_idごとにスペースを限定する。なのでリクエストにはroom_idが必須。
room_idは秘匿性を高くしたいのでUUID対応する。

## **プレイヤー**

### **プレイヤー登録** 
OK
プレイヤーの作成
1レコードづつで良い。
statusはデフォルト値[participating]で登録。
リクエストデータ：name,part,room_id
レスポンスデータ：name,part,room_id

### **プレイヤーの一覧取得**
OK
プレイヤーの取得
登録したデータ以外にそのプレイヤーが演奏した曲リストを取得する。
リクエストデータ：room_id
レスポンスデータ：name,part,status,room_id,performed_tune

### **プレイヤーの部分更新**
OK
プレイヤー情報の更新
名前、パート、ステータスを更新できる。
ステータスは[participating,breaking,left]の3つの値から選択する。
リクエストデータ：name,part,status,room_id

### **プレイヤーの削除***
OK
プレイヤーの削除
複数削除が可能なようにしておく。
削除した場合はperformanceテーブルからも削除する。

## **演奏曲**

### **演奏曲の登録**
曲の作成
1レコードづつでいい。
リクエストの参加プレイヤーのリストが必要。
Tuneテーブルへの登録のあとに
Performanceテーブルにも登録する
演奏キーとかあってもいいかも。[1~12]対応するラベルテキスト[C,C#...]
ステータスがあってもいいかも。[next,done,draft]

### **演奏曲の一覧取得**
曲一覧の取得
登録したデータ以外にその曲を演奏したプレイヤーリストを取得する。
リクエストデータ：room_id
レスポンスデータ：name,playing_key,performed_player,room_id

### **演奏曲の部分更新**
演奏曲情報の部分更新
曲名、演奏キー、参加者リストを更新できる
参加者リストを更新した場合は
Performanceテーブルからも削除する。

### **演奏曲の削除**
曲の削除
複数削除が可能なようにしておく。
削除した場合はPerformanceテーブルからも削除する。

# **ルーム**

## **roomの作成**
OK
ルームは１回のセッション毎に作成するイメージ。お店ごととは異なる。

## **room情報の更新**
OK
名前の変更

## **roomの削除**
OK
ルームの削除
全てのモデルから紐づくルーム情報を削除する。

# **アカウント情報**
ルームの上位概念として必要かなと感じている。
アプリを開いた時に過去のルームの情報を保持しておきたい



